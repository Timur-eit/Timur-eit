(this["webpackJsonpmy-table"]=this["webpackJsonpmy-table"]||[]).push([[0],{105:function(e,t,a){},114:function(e,t,a){e.exports=a.p+"static/media/edit-text-svgrepo-com.10bff670.svg"},115:function(e,t,a){e.exports=a.p+"static/media/search-svgrepo-com.8950c04a.svg"},116:function(e,t,a){e.exports=a.p+"static/media/cross-svgrepo-com.28735e20.svg"},147:function(e,t,a){e.exports=a(262)},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(57),l=a.n(c),o=a(9),u=a(24),i="".concat("pl-table-view","/CHANGE_ARROW_ID"),d={arrowId:""};var s=Object(u.a)((function(e){return e["pl-table-view"]}),(function(e){return e.arrowId}));var b=a(28),f=a(77),m=a.n(f),p=a(14),h=a(111);function x(e,t,a){var n=(a=a||{}).expires;if("number"===typeof n&&n){var r=new Date;r.setTime(r.getTime()+1e3*n),n=a.expires=r}n&&n.toUTCString&&(a.expires=n.toUTCString());var c=e+"="+(t=encodeURIComponent(t));for(var l in a){c+="; "+l;var o=a[l];!0!==o&&(c+="="+o)}document.cookie=c}function v(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var E=a(112);function g(e,t){var a,n=t.toString().toLowerCase(),r=e.toString().toLowerCase(),c=0,l=Object(E.a)(n);try{for(l.s();!(a=l.n()).done;){if(a.value===r[0])return r===n.slice(c,c+r.length);c++}}catch(o){l.e(o)}finally{l.f()}return!1}var D="".concat("pl-table","/GET_TABLE_DATA"),T="".concat("pl-table","/SORT_TABLE"),O="".concat("pl-table","/ADD_NEW_TABLE_DATA"),y="".concat("pl-table","/CORRECT_TABLE_DATA"),I="".concat("pl-table","/SET_CHECKED_INDEX"),j="".concat("pl-table","/SET_ALL_CHECKED_INDEXES"),k="".concat("pl-table","/DELETE_MARKED_DATA"),C="".concat("pl-table","/FIX_INITIAL_TABLE_DATA"),w="".concat("pl-table","/SEARCH"),A="".concat("pl-table","/CHANGE_MARKED_DATA"),N={reduxTableData:[],reduxCheckedIndexes:[],savedTableData:[]};var S=function(e){return e["pl-table"]},_=Object(u.a)(S,(function(e){return e.reduxTableData})),R=Object(u.a)(S,(function(e){return e.reduxCheckedIndexes}));Object(u.a)(S,(function(e){return e.savedTableData}));function L(e){return function(t,a){var n=a()["pl-table"].reduxTableData,r=e.id,c=Object(b.a)({id:r},e),l=n.findIndex((function(e){return e.id===r})),o=Object(p.a)(n);o[l]=Object(b.a)({},c),x("table",JSON.stringify(o)),t({type:y,payload:{reduxTableData:o,reduxCheckedIndexes:[]}})}}function F(){return function(e,t){var a,n=t()["pl-table"].reduxTableData,r=t()["pl-table"].savedTableData;a=r.length<1?Object(p.a)(n):Object(p.a)(r),e({type:C,payload:a})}}function H(e){return function(t,a){var n,r=e.target.value,c=a()["pl-table"].reduxTableData,l=a()["pl-table"].savedTableData,o=Object(p.a)(l);r.length>0?n=Object(p.a)(c).filter((function(e){var t=null;for(var a in e)g(r,e[a])&&(t=e);return t})):(n=Object(p.a)(l),o=[]),t({type:w,payload:{reduxTableData:n,savedTableData:o}})}}var B=a(107),J=a(108),M=(a(84),function(e){var t=e.handleSubmit,a=e.initialize,c=e.initialData,l=e.fieldName;return Object(n.useEffect)((function(){a(c)}),[a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:t},r.a.createElement(B.a,{name:l,defaultValue:c,component:"textarea",type:"text",className:"table-input"})))}),G=M=Object(J.a)({form:"correctDataForm",onSubmit:L})(M),U=(a(253),a(254),function(e){var t=e.columns,a=e.data,n=e.handleSort,c=e.checkboxHandle,l=e.checkedItemIndexes,o=e.arrowId,u=e.changeArrowId,i=e.correctTableData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t},r.a.createElement(q,{arrowDisplayState:o,field:e,onClick:function(){u(e),n(e,o?1:-1)}}),"".concat(e))})))),r.a.createElement("tbody",null,a&&a.length?a.map((function(e,t){return r.a.createElement("tr",{key:t},Object.keys(e).map((function(n,o){return"isChecked"===n?r.a.createElement("td",{key:o},r.a.createElement("input",{id:"checkbox",checked:l.includes(t),type:"checkbox",onChange:function(){return c(t)}})):r.a.createElement("td",{key:o},l.includes(t)&&"id"!==n?r.a.createElement(G,{fieldName:n,initialData:a[t],onSubmit:function(e){return i(e)}}):e[n])})))})):null)))}),q=function(e){var t=e.arrowDisplayState,a=e.onClick,n=e.field;return r.a.createElement("span",{onClick:a},t===n?r.a.createElement(r.a.Fragment,null,"\u25b2"):r.a.createElement(r.a.Fragment,null,"\u25bc"))};U.defaultProps={data:[]};var K=Object(o.c)((function(e){return{arrowId:s(e)}}),{changeArrowId:function(e){return function(t,a){var n=a()["pl-table-view"].arrowId;t({type:i,payload:n!==e?e:""})}},correctTableData:L})(U),V=a(6);function W(e,t,a){var n,r=e.target.value,c=window.location.search,l=new RegExp("(\\??&?".concat(t,")=(\\w+)")),o=c.match(l);if(r.length>0)c.length>0?null!==o?(n=c.replace(l,"$1=".concat(r)),a.replace({search:n})):(n="".concat(c,"&").concat(t,"=").concat(r),a.replace({search:n})):a.push({search:"?".concat(t,"=").concat(r)});else if(o[1].match(/\?/)){var u=RegExp("(&?".concat(t,")=(\\w+&?)"));n=c.replace(u,""),a.replace({search:n})}else n=c.replace(l,""),a.replace({search:n})}a(255);var $=["name","class","author","version"],X=function(e){var t=e.handleSubmit,a=e.initialize,c=e.initialData,l=e.history;return console.log(l),Object(n.useEffect)((function(){a(c)}),[a,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"new-data-forms",onSubmit:t},$.map((function(e,t){return r.a.createElement("div",{className:"field",key:t},r.a.createElement(B.a,{name:e,component:"input",type:"text",placeholder:"enter ".concat(e),onChange:function(t){return W(t,e,l)}}))})),r.a.createElement("button",{className:"submit-button",type:"submit",disabled:!function(){var e=l.location.search;return $.filter((function(t){return e.includes(t)})).length}()},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))};X=Object(J.a)({form:"addNewDataForm"})(X),X=Object(o.c)((function(e){return{initialValues:e.router.location.query}}))(X);var z=X=Object(V.f)(X),P=a(120),Q=a(30),Y=a(114),Z=a.n(Y),ee=Object(o.c)((function(e){return{reduxCheckedIndexes:R(e)}}),{submit:Q.a})((function(e){var t=e.submit,a=e.reduxCheckedIndexes;return r.a.createElement("button",{className:"correct-button",disabled:a.length<1,type:"button",onClick:function(){return t("correctDataForm")}},r.a.createElement("img",{src:Z.a,alt:"\u043f\u043e\u0438\u0441\u043a"}),r.a.createElement("span",null,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))})),te=(a(257),a(115)),ae=a.n(te),ne=function(e){var t=e.search,a=e.fixInitialTableData,n=e.history;e.initialValues;return r.a.createElement("div",{className:"search-field"},r.a.createElement("img",{src:ae.a,alt:"\u041f\u043e\u0438\u0441\u043a"}),r.a.createElement("span",null,"\u041d\u0430\u0439\u0442\u0438"),r.a.createElement(B.a,{name:"search",component:"input",type:"text",onChange:function(e){return function(e){a(),t(e),W(e,"search",n)}(e)},placeholder:"enter text"}))},re=ne=Object(J.a)({form:"searchField"},{})(ne),ce=Object(o.c)((function(e){return{initialValues:e.router.location.query}}),{search:H,fixInitialTableData:F})(re),le=ce=Object(V.f)(ce),oe=(a(258),a(116)),ue=a.n(oe);var ie=function(e){var t=e.reduxCheckedIndexes,a=e.deleteMarkedItem;return r.a.createElement("div",null,r.a.createElement("button",{className:"delete-button",disabled:t.length<1,onClick:function(){return a()}},r.a.createElement("img",{src:ue.a,alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),r.a.createElement("span",null,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))},de=Object(o.c)((function(e){return{reduxCheckedIndexes:R(e)}}),{deleteMarkedItem:function(){return function(e,t){var a=t()["pl-table"].reduxTableData,n=t()["pl-table"].reduxCheckedIndexes,r=Object(p.a)(a).filter((function(e,t){return!n.includes(t)}));x("table",JSON.stringify(r)),e({type:k,payload:{reduxTableData:r,reduxCheckedIndexes:[]}})}}})(ie);a(259);var se=function(){return r.a.createElement("div",{className:"control-panel"},r.a.createElement(ee,null),r.a.createElement(le,null),r.a.createElement(de,null))},be=(a(105),a(260),["id","name","class","author","current version","isChecked"]);var fe=Object(o.c)((function(e){return{reduxTableData:_(e),reduxCheckedIndexes:R(e),location:e.router.location}}),{getReduxTableData:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],!(n=v("table"))){e.next=6;break}a.push.apply(a,Object(p.a)(JSON.parse(n))),e.next=9;break;case 6:return e.next=8,fetch("https://gist.githubusercontent.com/Greyewi/b6da020196da66028c3058ea0746a08f/raw/c809ff8ccbc22376ea6397a3460ea423ac5b40b3/Evgeny_table.json").then((function(e){return e.json()})).then((function(e){return a.push.apply(a,Object(p.a)(e))}));case 8:x("table",JSON.stringify(a));case 9:t({type:D,payload:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},sortReduxTable:function(e,t){return function(a,n){var r=n()["pl-table"].reduxTableData,c=Object(p.a)(r).sort((function(a,n){return a[e]<n[e]?-1*t:a[e]>n[e]?1*t:0}));a({type:T,payload:c})}},addNewTableData:function(e,t){return function(a,n){var r=n()["pl-table"].reduxTableData,c=e.reduce((function(e,a){return e[a]="id"===a?Math.trunc(100*Math.random()):"isChecked"!==a&&("current version"===a?t.version:t[a]),e}),{}),l=Object(p.a)(r).concat([c]);x("table",JSON.stringify(l)),a({type:O,payload:l})}},setCheckedItemIndex:function(e){return function(t,a){var n,r=a()["pl-table"].reduxCheckedIndexes;n=r.includes(e)?r.filter((function(t){return t!==e})):[].concat(Object(p.a)(r),[e]),t({type:I,payload:n})}},setAllItemsCheked:function(){return function(e,t){var a,n=t()["pl-table"].reduxTableData,r=t()["pl-table"].reduxCheckedIndexes,c=Object(p.a)(n).map((function(e,t){return t}));a=r.length===n.length?[]:c,e({type:j,payload:a})}},fixInitialTableData:F,search:H})((function(e){var t=e.reduxTableData,a=e.getReduxTableData,c=e.sortReduxTable,l=e.addNewTableData,o=e.reduxCheckedIndexes,u=e.setCheckedItemIndex,i=e.setAllItemsCheked,d=e.search,s=e.fixInitialTableData,b=e.location,f=b.query.search;return Object(n.useEffect)((function(){if(a(),f){var e={target:{value:f}};s(),d(e)}}),[a,s,d,f]),r.a.createElement("div",{className:"App"},r.a.createElement(P.a,{id:"prog-languages",to:"/table"},"\u042f\u0437\u044b\u043a\u044b \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),r.a.createElement(V.c,null,r.a.createElement(V.a,{path:"/table"},r.a.createElement(z,{initialData:b.query,onSubmit:function(e){return l(be,e)}}),r.a.createElement(K,{data:t,columns:be,checkboxHandle:u,checkedItemIndexes:o,checkAllCheckboxes:i,handleSort:c}),r.a.createElement(se,{className:"control-panel"})),r.a.createElement(V.a,{exact:!0,path:"/data-table"}),r.a.createElement(V.a,{path:"*"},"Code 404",r.a.createElement("br",null),"Not found or doesn't exist :-(")))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(8),pe=a(117),he=a.n(pe),xe=a(118),ve=a(17),Ee=(a(121),"".concat("app-form","/SET_INITIAL_FIELDS")),ge="".concat("app-form","/CHANGE_INPUTS"),De={reduxInputsData:[]};Object(u.a)((function(e){return e["app-form"]}),(function(e){return e.reduxInputsData}));var Te,Oe=a(109),ye=a(43),Ie=a(119),je=Object(Ie.a)(),ke=Object(me.c)((Te={},Object(ve.a)(Te,"pl-table",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case D:case T:case O:return Object.assign({},e,{reduxTableData:n});case y:return Object.assign({},e,{reduxTableData:n.reduxTableData,reduxCheckedIndexes:n.reduxCheckedIndexes});case I:case j:return Object.assign({},e,{reduxCheckedIndexes:n});case k:return Object.assign({},e,{reduxTableData:n.reduxTableData,reduxCheckedIndexes:n.reduxCheckedIndexes});case C:return Object.assign({},e,{savedTableData:n});case w:return Object.assign({},e,{reduxTableData:n.reduxTableData,savedTableData:n.savedTableData});case A:return Object.assign({},e,{reduxTableData:n.reduxTableData,reduxCheckedIndexes:n.reduxCheckedIndexes});default:return e}})),Object(ve.a)(Te,"app-form",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Ee:case ge:return Object.assign({},e,{reduxInputsData:n});default:return e}})),Object(ve.a)(Te,"pl-table-view",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case i:return Object.assign({},e,{arrowId:n});default:return e}})),Object(ve.a)(Te,"form",Oe.a),Object(ve.a)(Te,"router",Object(ye.b)(je)),Te)),Ce=a(106),we=Object(me.a)(xe.a,Object(Ce.a)(je),he.a),Ae=Object(me.d)(ke,we);window.store=Ae.getState();var Ne=Ae;a(261);l.a.render(r.a.createElement(o.a,{store:Ne},r.a.createElement(ye.a,{history:je},r.a.createElement(fe,null),",")),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){}},[[147,1,2]]]);
//# sourceMappingURL=main.fb871d39.chunk.js.map